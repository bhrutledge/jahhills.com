{% extends "base.html" %}
{% load markdown_tags %}

{% block title %}Shows | {{ block.super }}{% endblock %}

{% block main_content %}
    <section id="upcoming" class="object-list">
        <h2>Shows</h2>

        {% for gig in gig_list.upcoming %}
        <article class="gig">

            <header>
                <h3 class="title date">{{ gig.date|date }}</h3>
                <p class="location">
                    <span class="venue">{{ gig.venue.name }}</span>,
                    <span class="city">{{ gig.venue.city }}</span>
                </p>
            </header>

            {% if gig.description %}
            <section class="description">
                {{ gig.description|markdownify|safe }}
            </section>
            {% endif %}

            {% if gig.details %}
            <section class="details">
                {{ gig.details|markdownify|safe }}
            </section>
            {% endif %}

        </article>

        {% empty %}
        <p>No shows scheduled.</p>
        {% endfor %}
    </section>

    <section id="past" class="object-list">
        <h2>Past Shows</h2>

        {% for gig in gig_list.past %}
        <article class="gig">

            <header>
                <h3 class="title date">{{ gig.date|date }}</h3>
                <p class="location">
                    <span class="venue">{{ gig.venue.name }}</span>,
                    <span class="city">{{ gig.venue.city }}</span>
                </p>
            </header>

            {% if gig.description %}
            <section class="description">
                {{ gig.description|markdownify|safe }}
            </section>
            {% endif %}

        </article>
        {% endfor %}
    </section>
{% endblock %}
