{% extends "base.html" %}
{% load cloudinary %}

{% block title %}Videos | {{ block.super }}{% endblock %}

{% block main_class %}object-list {{ block.super }}{% endblock %}

{% block main_content %}
<h2>Videos</h2>

<div class="cards">
    {% for video in video_list %}
    <article class="video card">
        {% if video.preview_url %}
        <div class="card-image">
            <a href="{{ video.get_absolute_url }}"><img src="{% cloudinary_url video.preview_url width="480" height="270" crop="fill" type="fetch" %}" alt="Video preview" /></a>
        </div>
        {% endif %}

        <header class="card-header">
            <h3 class="title">
                <a href="{{ video.get_absolute_url }}">{{ video.title }}</a>
            </h3>
            <p class="date">{{ video.publish_on|date }}</p>
        </header>
    </article>
    {% endfor %}
</div>
{% endblock %}
